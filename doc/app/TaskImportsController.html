<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>class TaskImportsController - YOUR_TITLE</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/controllers/task_imports_controller.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="ApplicationController.html">ApplicationController</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-create">#create</a>
    
    <li><a href="#method-i-update">#update</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./TrackRecordReport.html">TrackRecordReport</a>
  
    <li><a href="./TrackRecordReport/Calculator.html">TrackRecordReport::Calculator</a>
  
    <li><a href="./TrackRecordReport/CalculatorWithUsers.html">TrackRecordReport::CalculatorWithUsers</a>
  
    <li><a href="./TrackRecordReport/Cell.html">TrackRecordReport::Cell</a>
  
    <li><a href="./TrackRecordReport/Report.html">TrackRecordReport::Report</a>
  
    <li><a href="./TrackRecordReport/Row.html">TrackRecordReport::Row</a>
  
    <li><a href="./TrackRecordReport/Section.html">TrackRecordReport::Section</a>
  
    <li><a href="./TrackRecordSections.html">TrackRecordSections</a>
  
    <li><a href="./TrackRecordSections/Group.html">TrackRecordSections::Group</a>
  
    <li><a href="./TrackRecordSections/GroupMixin.html">TrackRecordSections::GroupMixin</a>
  
    <li><a href="./TrackRecordSections/Section.html">TrackRecordSections::Section</a>
  
    <li><a href="./TrackRecordSections/SectionMixin.html">TrackRecordSections::SectionMixin</a>
  
    <li><a href="./TrackRecordSections/Sections.html">TrackRecordSections::Sections</a>
  
    <li><a href="./TrackRecordSections/SectionsMixin.html">TrackRecordSections::SectionsMixin</a>
  
    <li><a href="./ReportsHelper.html">ReportsHelper</a>
  
    <li><a href="./ReportsHelper/ReportMonth.html">ReportsHelper::ReportMonth</a>
  
    <li><a href="./ReportsHelper/ReportWeek.html">ReportsHelper::ReportWeek</a>
  
    <li><a href="./ReportsHelper/ReportYear.html">ReportsHelper::ReportYear</a>
  
    <li><a href="./QuietLeightbox.html">QuietLeightbox</a>
  
    <li><a href="./QuietLeightbox/ClassMethods.html">QuietLeightbox::ClassMethods</a>
  
    <li><a href="./QuietLeightbox/QuietLeightboxHelper.html">QuietLeightbox::QuietLeightboxHelper</a>
  
    <li><a href="./QuietPrototype.html">QuietPrototype</a>
  
    <li><a href="./QuietPrototype/ClassMethods.html">QuietPrototype::ClassMethods</a>
  
    <li><a href="./QuietPrototype/QuietPrototypeHelper.html">QuietPrototype::QuietPrototypeHelper</a>
  
    <li><a href="./TrackRecordReportGenerator.html">TrackRecordReportGenerator</a>
  
    <li><a href="./TrackRecordReportGenerator/UkOrgPondCSV.html">TrackRecordReportGenerator::UkOrgPondCSV</a>
  
    <li><a href="./TrackRecordReportGenerator/UkOrgPondCSVAsDays.html">TrackRecordReportGenerator::UkOrgPondCSVAsDays</a>
  
    <li><a href="./YuiTree.html">YuiTree</a>
  
    <li><a href="./YuiTree/ClassMethods.html">YuiTree::ClassMethods</a>
  
    <li><a href="./YuiTree/YuiTreeHelper.html">YuiTree::YuiTreeHelper</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./AuditsController.html">AuditsController</a>
  
    <li><a href="./AuditsHelper.html">AuditsHelper</a>
  
    <li><a href="./ChartsController.html">ChartsController</a>
  
    <li><a href="./ChartsHelper.html">ChartsHelper</a>
  
    <li><a href="./ControlPanel.html">ControlPanel</a>
  
    <li><a href="./ControlPanelsController.html">ControlPanelsController</a>
  
    <li><a href="./Customer.html">Customer</a>
  
    <li><a href="./CustomersController.html">CustomersController</a>
  
    <li><a href="./CustomersHelper.html">CustomersHelper</a>
  
    <li><a href="./EmailNotifier.html">EmailNotifier</a>
  
    <li><a href="./HelpController.html">HelpController</a>
  
    <li><a href="./HelpHelper.html">HelpHelper</a>
  
    <li><a href="./Project.html">Project</a>
  
    <li><a href="./ProjectsController.html">ProjectsController</a>
  
    <li><a href="./ProjectsHelper.html">ProjectsHelper</a>
  
    <li><a href="./Rangeable.html">Rangeable</a>
  
    <li><a href="./ReportsController.html">ReportsController</a>
  
    <li><a href="./SavedReport.html">SavedReport</a>
  
    <li><a href="./SavedReportAutoTitlesController.html">SavedReportAutoTitlesController</a>
  
    <li><a href="./SavedReportsBaseController.html">SavedReportsBaseController</a>
  
    <li><a href="./SavedReportsByCustomerController.html">SavedReportsByCustomerController</a>
  
    <li><a href="./SavedReportsByProjectController.html">SavedReportsByProjectController</a>
  
    <li><a href="./SavedReportsByTaskController.html">SavedReportsByTaskController</a>
  
    <li><a href="./SavedReportsByUserController.html">SavedReportsByUserController</a>
  
    <li><a href="./SavedReportsController.html">SavedReportsController</a>
  
    <li><a href="./SavedReportsHelper.html">SavedReportsHelper</a>
  
    <li><a href="./SessionsController.html">SessionsController</a>
  
    <li><a href="./Task.html">Task</a>
  
    <li><a href="./TaskGroup.html">TaskGroup</a>
  
    <li><a href="./TaskImport.html">TaskImport</a>
  
    <li><a href="./TaskImportsController.html">TaskImportsController</a>
  
    <li><a href="./TaskImportsHelper.html">TaskImportsHelper</a>
  
    <li><a href="./TasksController.html">TasksController</a>
  
    <li><a href="./TasksHelper.html">TasksHelper</a>
  
    <li><a href="./Timesheet.html">Timesheet</a>
  
    <li><a href="./TimesheetForceCommit.html">TimesheetForceCommit</a>
  
    <li><a href="./TimesheetForceCommitsController.html">TimesheetForceCommitsController</a>
  
    <li><a href="./TimesheetRow.html">TimesheetRow</a>
  
    <li><a href="./TimesheetRowsController.html">TimesheetRowsController</a>
  
    <li><a href="./TimesheetRowsHelper.html">TimesheetRowsHelper</a>
  
    <li><a href="./TimesheetsController.html">TimesheetsController</a>
  
    <li><a href="./TimesheetsHelper.html">TimesheetsHelper</a>
  
    <li><a href="./TreesController.html">TreesController</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UsersController.html">UsersController</a>
  
    <li><a href="./UsersHelper.html">UsersHelper</a>
  
    <li><a href="./WorkPacket.html">WorkPacket</a>
  
    <li><a href="./WorkPacketsController.html">WorkPacketsController</a>
  
    <li><a href="./WorkPacketsHelper.html">WorkPacketsHelper</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class TaskImportsController</h1>

  <div id="description" class="description">
    <dl class="rdoc-list note-list"><dt>File
<dd>
<p>task_imports_controller.rb</p>
</dd><dt>(C)
<dd>
<p>Hipposoft 2008</p>
</dd><dt>Purpose
<dd>
<p>Import task definition data from external sources.</p>
</dd></dl>
<hr style="height: 10px">

<pre>30-Mar-2008 (ADH): Created.</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-create" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Take the file data from the ‘new’ view form and ‘create’ an “import
session”; that is, parse the file and generate an intermediate
representation of the tasks therein. Render an ‘edit’ view where the user
can ‘edit’ the “import session”, by changing titles etc. of the task list
obtained from the file.</p>
          

          
          <div class="method-source-code" id="create-source">
            <pre><span class="ruby-comment"># File app/controllers/task_imports_controller.rb, line 28</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create</span>

  <span class="ruby-comment"># Set up a new TaskImport session object and read the XML file details</span>

  <span class="ruby-identifier">xmlfile</span> = <span class="ruby-identifier">params</span>[ <span class="ruby-value">:import</span> ][ <span class="ruby-value">:xmlfile</span> ] <span class="ruby-operator">||</span> <span class="ruby-string">''</span>
  <span class="ruby-ivar">@import</span> = <span class="ruby-constant">TaskImport</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">project_id</span> = <span class="ruby-ivar">@current_user</span>.<span class="ruby-identifier">control_panel</span>.<span class="ruby-identifier">project_id</span>

  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">xmlfile</span> <span class="ruby-operator">==</span> <span class="ruby-string">''</span> ) <span class="ruby-comment"># Empty string = nothing chosen, else a file object</span>

    <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:error</span> ] = <span class="ruby-string">&quot;Please choose a file before using the 'Analyse' button.&quot;</span>

  <span class="ruby-keyword">else</span>

    <span class="ruby-comment"># The user selected a file to upload, so process it</span>

    <span class="ruby-keyword">begin</span>

      <span class="ruby-comment"># We assume XML files always begin with &quot;&lt;&quot; in the first byte and</span>
      <span class="ruby-comment"># if that's missing then it's GZip compressed. That's true in the</span>
      <span class="ruby-comment"># limited case of project files.</span>

      <span class="ruby-identifier">xmlfile</span> = <span class="ruby-identifier">xmlfile</span>.<span class="ruby-identifier">tempfile</span>
      <span class="ruby-identifier">byte</span> = <span class="ruby-identifier">xmlfile</span>.<span class="ruby-identifier">getc</span>()
      <span class="ruby-identifier">xmlfile</span>.<span class="ruby-identifier">rewind</span>()

      <span class="ruby-identifier">xmlfile</span>       = <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipReader</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">xmlfile</span> ) <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">byte</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'&lt;'</span>[ <span class="ruby-value">0</span> ] )
      <span class="ruby-identifier">xmldoc</span>        = <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">xmlfile</span>.<span class="ruby-identifier">read</span>() )
      <span class="ruby-identifier">task_data</span>     = <span class="ruby-constant">TaskImport</span>.<span class="ruby-identifier">get_tasks_from_xml</span>( <span class="ruby-identifier">xmldoc</span> )

      <span class="ruby-identifier">tasks</span>         = <span class="ruby-identifier">task_data</span>[ <span class="ruby-value">:tasks</span>         ]
      <span class="ruby-identifier">parent_uids</span>   = <span class="ruby-identifier">task_data</span>[ <span class="ruby-value">:parent_uids</span>   ]
      <span class="ruby-identifier">parent_titles</span> = <span class="ruby-identifier">task_data</span>[ <span class="ruby-value">:parent_titles</span> ]

      <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">tasks</span>.<span class="ruby-identifier">blank?</span> )
        <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:error</span>  ] = <span class="ruby-string">'No usable tasks were found in that file'</span>

      <span class="ruby-keyword">else</span>
        <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">tasks</span>         = <span class="ruby-identifier">tasks</span>
        <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">parent_uids</span>   = <span class="ruby-identifier">parent_uids</span>
        <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">parent_titles</span> = <span class="ruby-identifier">parent_titles</span>
        <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">collapse</span>      = <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">max_level</span>

        <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">generate_filtered_task_list</span>()

        <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:notice</span> ] = <span class="ruby-string">'Tasks read successfully. Please choose items to import.'</span>
        <span class="ruby-identifier">render</span>( { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:edit</span> } )
        <span class="ruby-identifier">flash</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value">:notice</span> ) <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span> <span class="ruby-comment"># If not deleted, flash message persists for one fetch too many</span>

      <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>

      <span class="ruby-comment"># REXML errors can be huge, including a full backtrace. It can cause</span>
      <span class="ruby-comment"># session cookie overflow and we don't want the user to see it. Cut</span>
      <span class="ruby-comment"># the message off at the first newline.</span>

      <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>)
      <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:error</span> ] = <span class="ruby-node">&quot;Failed to read file: #{ lines[ 0 ] }&quot;</span>
      <span class="ruby-identifier">flash</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value">:notice</span> ) <span class="ruby-comment"># In case it got set above, but the render call then failed</span>

    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">render</span>( { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span> } )
  <span class="ruby-identifier">flash</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value">:error</span> ) <span class="ruby-comment"># If not deleted, flash message persists for one fetch too many</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- create-source -->
          
        </div>

        

        
      </div><!-- create-method -->

    
      <div id="method-i-update" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Once the user has updated anything they need to update in the import
session ‘edit’-like view (see also ‘create’ above), process the form
submission and import any real Tasks into the database if so requested or
re-process the input file if necessary.</p>
          

          
          <div class="method-source-code" id="update-source">
            <pre><span class="ruby-comment"># File app/controllers/task_imports_controller.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update</span>

  <span class="ruby-ivar">@import</span> = <span class="ruby-constant">TaskImport</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">params</span>[ <span class="ruby-value">:import</span> ] )

  <span class="ruby-comment"># Should this list now be collapsed, or should it be imported?</span>

  <span class="ruby-keyword">unless</span> ( <span class="ruby-identifier">params</span>[ <span class="ruby-value">:do_collapse</span> ].<span class="ruby-identifier">nil?</span> )
    <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">generate_filtered_task_list</span>()
    <span class="ruby-identifier">render</span>( { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:edit</span> } ) <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Import tasks from the filtered list submitted with the form, which holds</span>
  <span class="ruby-comment"># a combination of user-editable and hidden preset values.</span>

  <span class="ruby-identifier">to_import</span> = <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">filtered_tasks</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span> <span class="ruby-identifier">task</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">import</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'1'</span> }

  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">to_import</span>.<span class="ruby-identifier">empty?</span> )

    <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:error</span> ] = <span class="ruby-string">'No tasks were selected for import. Please select at least one task and try again.'</span>

  <span class="ruby-keyword">else</span>

    <span class="ruby-comment"># Right, good to go! Do the import.</span>

    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">Task</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword">do</span>

        <span class="ruby-comment"># Create a new project in passing?</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">has_key?</span>( <span class="ruby-value">:do_import_new_task</span> )
          <span class="ruby-identifier">project</span>             = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">new</span>
          <span class="ruby-identifier">project</span>.<span class="ruby-identifier">title</span>       = <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">new_project_title</span>
          <span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer_id</span> = <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">new_project_customer_id</span>
          <span class="ruby-identifier">project</span>.<span class="ruby-identifier">description</span> = <span class="ruby-node">&quot;Created for XML bulk task import on #{ Time.now }&quot;</span>
          <span class="ruby-keyword">begin</span>
            <span class="ruby-identifier">project</span>.<span class="ruby-identifier">save!</span>
          <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">inner_error</span>
            <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Cannot create project: #{ inner_error }&quot;</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">project</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">find</span>( <span class="ruby-ivar">@import</span>.<span class="ruby-identifier">project_id</span> )
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">to_import</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">source_task</span> <span class="ruby-operator">|</span>
          <span class="ruby-constant">Task</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">destination_task</span> <span class="ruby-operator">|</span>
            <span class="ruby-identifier">destination_task</span>.<span class="ruby-identifier">title</span>    = <span class="ruby-identifier">source_task</span>.<span class="ruby-identifier">title</span>
            <span class="ruby-identifier">destination_task</span>.<span class="ruby-identifier">code</span>     = <span class="ruby-identifier">source_task</span>.<span class="ruby-identifier">code</span>
            <span class="ruby-identifier">destination_task</span>.<span class="ruby-identifier">duration</span> = <span class="ruby-identifier">source_task</span>.<span class="ruby-identifier">duration</span>
            <span class="ruby-identifier">destination_task</span>.<span class="ruby-identifier">billable</span> = <span class="ruby-identifier">source_task</span>.<span class="ruby-identifier">billable</span>
            <span class="ruby-identifier">destination_task</span>.<span class="ruby-identifier">project</span>  = <span class="ruby-identifier">project</span>
          <span class="ruby-keyword">end</span>.<span class="ruby-identifier">save!</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:notice</span> ] = <span class="ruby-node">&quot;#{ to_import.length } #{ to_import.length == 1 ? 'task' : 'tasks' } imported successfully.&quot;</span>
        <span class="ruby-identifier">redirect_to</span>( <span class="ruby-identifier">tasks_path</span>() ) <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span>
      <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
      <span class="ruby-identifier">flash</span>[ <span class="ruby-value">:error</span> ] = <span class="ruby-node">&quot;Unable to import tasks: #{ error }&quot;</span>

    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">render</span>( { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:edit</span> } )
  <span class="ruby-identifier">flash</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value">:error</span> )
<span class="ruby-keyword">end</span></pre>
          </div><!-- update-source -->
          
        </div>

        

        
      </div><!-- update-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

